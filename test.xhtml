<?xml version="1.0" ?>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Random Testing</title>
	
	<script type="text/javascript" src="src/main/javascript/zomby/support/jquery-1.2.3.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/support/jquery.create.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/support/jquery.rescope.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/support/jquery.throttle.js"></script>
	
	<script type="text/javascript" src="src/main/javascript/zomby/support/Package.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/support/Base.js"></script>
	
	<script type="text/javascript" src="src/main/javascript/zomby/core/Event.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/core/Constants.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/core/Util.js"></script>

	<script type="text/javascript" src="src/main/javascript/zomby/model/shape/Shape.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/model/shape/Ellipse.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/model/shape/Rectangle.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/model/shape/Line.js"></script>

	<script type="text/javascript" src="src/main/javascript/zomby/view/View.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/view/shape/ShapeViewFactory.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/view/shape/ShapeView.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/view/shape/EllipseView.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/view/shape/RectangleView.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/view/shape/LineView.js"></script>

	<script type="text/javascript" src="src/main/javascript/zomby/editor/Widget.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/canvas/Canvas.js"></script>
	
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/Lasso.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/Tool.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/Toolbox.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/SelectTool.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/AbstractShapeTool.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/EllipseTool.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/RectangleTool.js"></script>
	<script type="text/javascript" src="src/main/javascript/zomby/editor/ui/toolbox/LineTool.js"></script>

	<script type="text/javascript">
		$(function() {
			var toolbox = new zomby.editor.ui.toolbox.Toolbox($("#tester"));
			
			var canvas = new zomby.editor.ui.canvas.Canvas($("#tester"));
			canvas.setShapeViewFactory(new zomby.view.shape.ShapeViewFactory());
			$.each(["dragstart","drag","dragend","click","keypress"], function(i,type) {
				canvas["on"+type].subscribe(function(e) {
					toolbox.getSelectedTool()["handle"+type](e);
				});
			});
		});
	</script>
	
	<style type="text/css">
		@namespace svg "http://www.w3.org/2000/svg";

		#tester {
			border:1px solid #CCC;
			width: 800px;
			height: 600px;
		}
		
		.tool-icon {
			float: left;
			margin: 2px;
			width: 24px;
			height: 24px;
			border: 1px outset #CCC;
			background: #EEE none no-repeat 50% 50%;
		}

		.select-tool-icon {
			background-image: url(icons/select-rectangular.png);
		}

		.ellipse-tool-icon {
			background-image: url(icons/krita_tool_ellipse.png);
		}

		.rectangle-tool-icon {
			background-image : url(icons/krita_tool_rectangle.png);
		}
		
		.line-tool-icon {
			background-image : url(icons/krita_tool_line.png);
		}

		.tool-icon-selected {
			border-style: inset;
		}
		
		.tool-icon-hover {
			background-color: #CCC;
		}
		
		.canvas {
			position: absolute;
			top: 100px;
			left: 100px;
			width: 600px;
			height: 400px;
			border: 1px solid #EEE;
		}
		
		.lasso {
			border:1px dashed #CCC;
		}
		
		.lasso-toosmall {
			border-color: red;
		}

		.ellipse {
			background:#FCC;
		}

		.rectangle {
			background:#CFC;
		}

		.line {
			background:#CCF;
		}

		.selected {
			background: blue;
		}
	</style>
</head>
<body>

	<div id="tester"></div>

</body>
</html>